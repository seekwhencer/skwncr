@use "../global/colors";
@use "../global/typo";

.section-services {
  background-color: colors.$color-five;
  color: white;
  scroll-margin-top: 100px;

  .container {
    width: 900px;
    margin: auto;
    padding-top: 150px;

    .services {
      position: relative;
      display: block;
      width: 100%;
      height: 1500px;
    }
  }

  .service {
    position: absolute;
    height: 300px;
    aspect-ratio: 1/cos(30deg);
    margin: 0 0 50px 0;
    background-color: black;
    transition: all 0.6s ease-in-out;
    opacity: 0.7;
    clip-path: polygon(50% -50%, 100% 50%, 50% 150%, 0 50%);
    transform-origin: 50% 50%;

    .icon {
      position: absolute;
      bottom: 50px;
      left: calc(50% - 30px);
      display: inline-block;
      transform: scale(2);
      transition: all 0.3s ease-in-out;
      background-color: colors.$color-gray-a;
      border-radius: 50px;
      height: 36px;
      width: 36px;
      border: 2px solid black;

      svg {
        margin: 6px;

        * {
          color: black;
        }
      }
    }

    &.empty {
      &:before {
        position: absolute;
        left: 0;
        top: 0;
        content: '';
        clip-path: polygon(50% -50%, 100% 50%, 50% 150%, 0 50%);
        background-color: colors.$color-five;
        width: 100%;
        height: 100%;
        transform: scale(0.95);
      }
    }


    @mixin grid($gridX, $gridY, $cellX, $cellY) {
      left: calc($gridX * $cellX);
      top: calc($gridY * $cellY);
    }

    $gridX: 270px;
    $gridY: 155px;

    &[data-name="development"] {
      @include grid($gridX, $gridY, 0, 0);
    }

    &[data-name="support"] {
      @include grid($gridX, $gridY, 1, 3);
    }

    &[data-name="consulting"] {
      @include grid($gridX, $gridY, 1, 1);
    }

    &[data-name="solutions"] {
      @include grid($gridX, $gridY, 2, 0);
    }

    &[data-name="edgecomputing"] {
      @include grid($gridX, $gridY, 0, 6);
    }

    &[data-name="smarthome"] {
      @include grid($gridX, $gridY, 0, 4);
    }

    &[data-name="workshops"] {
      @include grid($gridX, $gridY, 2, 4);
    }

    &[data-name="neighbourhood"] {
      @include grid($gridX, $gridY, 2, 6);
    }

    &[data-name="fun"] {
      @include grid($gridX, $gridY, 1, 7);
    }

    &[data-name="empty-first"] {
      @include grid($gridX, $gridY, 2, 2);
    }

    &[data-name="empty-second"] {
      @include grid($gridX, $gridY, 1, -1);
    }

    &[data-name="empty-third"] {
      @include grid($gridX, $gridY, 0, 2);
    }

    &[data-name="empty-4th"] {
      @include grid($gridX, $gridY, 1, 5);
    }

    .name {
      position: absolute;
      bottom: 130px;
      display: block;
      width: 100%;
      text-align: center;
      padding: 10px 0;
      font-weight: 700;
      font-size: typo.$fs-l;
      background-color: colors.$color-gray-f;
      color: white;
    }

    .text {
      padding: 10px 90px;
      color: white;
      position: absolute;
      top: 20px;
      font-weight: 300;
      line-height: 1.6em;
      font-size: typo.$fs-xs;
    }

    &:hover {
      transition: all 0.2s ease-in-out;
      cursor: pointer;
      opacity: 1;
      transform-origin: 50% 50%;
      transform: scale(1.3);
      z-index: 100;

      .icon {
        background-color: colors.$color-three;
      }

      svg {
        * {
          color: black;
        }
      }

      .name {
        background-color: colors.$color-three;
        color: colors.$color-matte-d;
      }
    }
  }
}